:root {
    --table-bg: #132442;
    --table-bg-2: #10192b;
    --panel: #ffffffeb;
    --player: #fff;
    --text-dark: #0f172a;
    --accent: #f59e0b;
}

* {
    box-sizing: border-box;
}

body {
    margin: 0;
    min-height: 100vh;
    font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
    color: #fff;
    background:
        radial-gradient(circle at 15% 12%, #2563eb66 0%, transparent 30%),
        radial-gradient(circle at 85% 82%, #22c55e55 0%, transparent 28%),
        linear-gradient(155deg, var(--table-bg), var(--table-bg-2));
}

.game {
    display: flex;
    flex-direction: column;
    min-height: 100vh;
    justify-content: space-between;
    position: relative;
    padding-bottom: 0.75rem;
}

.game-subtitle {
    letter-spacing: 0.1em;
    color: #bfdbfe;
}

.game__players {
    position: relative;
    min-height: 180px;
}

.player {
    position: absolute;
    min-width: 150px;
    padding: 0.55rem 0.8rem;
    border-radius: 14px;
    background: #ffffff22;
    border: 1px solid #ffffff33;
    backdrop-filter: blur(5px);
    opacity: 0.55;
    transition: transform 0.2s ease, opacity 0.2s ease, border-color 0.2s ease;
}

.player--active {
    opacity: 1;
    border-color: var(--accent);
    transform: scale(1.03);
}

.player--top {
    top: 0;
    left: 50%;
    transform: translateX(-50%);
}

.player--left {
    left: 0.25rem;
    top: 64px;
}

.player--right {
    right: 0.25rem;
    top: 64px;
}

.player--bottom {
    left: 50%;
    bottom: 0;
    transform: translateX(-50%);
}

.player__info {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 0.1rem;
}

.player__name {
    font-weight: 700;
    max-width: 180px;
    overflow: hidden;
    text-overflow: ellipsis;
    white-space: nowrap;
}

.player__card-count {
    font-size: 0.85rem;
}

.player__uno {
    color: #fecaca;
    background: #b91c1c;
    border-radius: 999px;
    padding: 0.1rem 0.45rem;
    font-size: 0.72rem;
    font-weight: 700;
    letter-spacing: 0.03em;
}

.game__board {
    width: min(560px, 96vw);
    background: transparent;
    border-radius: 20px;
    color: #e2e8f0;
}

.board__inner {
    background: transparent;
}

.board__direction {
    font-size: 1.6rem;
    font-weight: 800;
    color: #f8fafc;
    text-shadow: 0 2px 10px #02061799;
    margin-bottom: 0.75rem;
}

.board__elements {
    display: flex;
    justify-content: space-between;
    align-items: center;
    width: min(80vh, 100%);
    gap: 1.25rem;
    margin: 0 auto;
}

.board__message-stack {
    min-height: 126px;
    min-width: 190px;
    display: flex;
    flex-direction: column;
    align-items: stretch;
    gap: 0.5rem;
}

.pile {
    width: 96px;
    height: 144px;
    border-radius: 12px;
    display: flex;
    align-items: center;
    justify-content: center;
    flex-direction: column;
    gap: 0.35rem;
    font-weight: 700;
    box-shadow: 0 8px 20px #0f172a2b;
    position: relative;
    overflow: hidden;
}

.pile--draw {
    background: #0b1220;
    color: #fff;
}

.pile--discard {
    background: #0b1220;
    color: #e2e8f0;
}

.pile__count {
    font-size: 0.82rem;
    font-weight: 800;
    background: #020617b3;
    border: 1px solid #ffffff26;
    border-radius: 999px;
    padding: 0.1rem 0.42rem;
    position: absolute;
    bottom: 7px;
}

.board__color-indicator {
    font-weight: 700;
}

.board__message {
    min-height: 60px;
    min-width: 170px;
    display: flex;
    align-items: center;
    justify-content: center;
    text-align: center;
    font-size: 1.1rem;
    font-weight: 700;
    color: #f8fafc;
    padding: 0.75rem 0.85rem;
    border-radius: 14px;
    border: 1px solid #ffffff2f;
    background: #02061773;
    text-shadow: 0 2px 10px #020617b8;
    white-space: pre-line;
}

.board__message--event {
    min-height: 56px;
    font-size: 0.92rem;
    font-weight: 600;
    color: #e2e8f0;
    border-style: dashed;
}

.game__hand {
    display: flex;
    justify-content: center;
    width: 100%;
    overflow-x: auto;
    padding: 0.25rem 0.5rem;
}

.hand__cards {
    display: flex;
    align-items: center;
    min-height: 148px;
    padding: 0.4rem 2.2rem;
    width: fit-content;
}

.hand__cards .card {
    margin-left: -38px;
}

.hand__cards .card:first-child {
    margin-left: 0;
}

.card {
    width: 86px;
    height: 130px;
    border-radius: 12px;
    position: relative;
    font-weight: 800;
    border: 2px solid #f8fafccc;
    box-shadow: 0 10px 20px #02061770;
    color: #fff;
    user-select: none;
    overflow: hidden;
    flex-shrink: 0;
}

.card::after {
    content: "";
    position: absolute;
    inset: 0;
    background: linear-gradient(130deg, #ffffff24, transparent 42%);
    pointer-events: none;
}

.card__corner {
    position: absolute;
    font-size: 0.95rem;
    line-height: 1;
    font-weight: 900;
    text-shadow: 0 1px 2px #00000050;
}

.card__corner--top {
    top: 7px;
    left: 8px;
}

.card__corner--bottom {
    bottom: 7px;
    right: 8px;
    transform: rotate(180deg);
}

.card__center {
    position: absolute;
    inset: 16px 11px;
    background: #f8fafce8;
    border-radius: 999px;
    transform: rotate(-16deg);
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
}

.card__value {
    color: #fff;
    font-size: 2.2rem;
    font-weight: 900;
    transform: rotate(16deg);
    text-shadow: 0 2px 5px #00000068;
    letter-spacing: 0.02em;
}

.card__subvalue {
    color: #fff;
    font-size: 1rem;
    font-weight: 900;
    transform: rotate(16deg);
    text-shadow: 0 2px 5px #00000068;
    margin-top: -0.15rem;
    letter-spacing: 0.03em;
}

.card[data-value="skip"] .card__value,
.card[data-value="reverse"] .card__value,
.card[data-value="draw2"] .card__value,
.card[data-value="wild"] .card__value,
.card[data-value="wildDraw4"] .card__value {
    font-size: 1.65rem;
}

.card--wild .card__center {
    background: linear-gradient(135deg, #dc2626 0 25%, #facc15 25% 50%, #16a34a 50% 75%, #2563eb 75% 100%);
}

.card--wild .card__value {
    color: #111827;
    text-shadow: none;
    font-size: 1.05rem;
    letter-spacing: 0.06em;
}

.card--wild .card__subvalue {
    color: #111827;
    text-shadow: none;
}

.card--mark-69 .card__corner,
.card--mark-69 .card__value {
    text-decoration-line: underline;
    text-decoration-thickness: 2px;
    text-underline-offset: 3px;
}

.card--back {
    width: 80px;
    height: 120px;
    border-radius: 10px;
    border-color: #eff6ff;
    background:
        radial-gradient(circle at 30% 24%, #60a5fa85 0%, transparent 34%),
        linear-gradient(145deg, #1d4ed8, #0f172a 70%);
    display: grid;
    place-items: center;
}

.card--back::before {
    content: "";
    position: absolute;
    inset: 8px;
    border-radius: 8px;
    border: 2px solid #e2e8f0;
    opacity: 0.9;
}

.card__back-logo {
    position: relative;
    z-index: 1;
    font-size: 1.1rem;
    font-weight: 900;
    letter-spacing: 0.07em;
    transform: rotate(-18deg);
    text-shadow: 0 2px 8px #020617b3;
}

.card--valid {
    cursor: pointer;
    transition: transform 0.16s ease, filter 0.16s ease, box-shadow 0.16s ease;
    box-shadow: 0 10px 20px #02061770, 0 0 0 1px #ffffff55, 0 0 0 3px #22c55e44;
}

.card--valid:hover {
    transform: translateY(-12px);
    filter: saturate(1.12);
    z-index: 999 !important;
}

.card--disabled {
    opacity: 1;
    filter: grayscale(0.35) saturate(0.8) brightness(0.9);
    border-style: dashed;
    border-color: #e2e8f088;
    pointer-events: none;
}

.card--disabled::before {
    content: "";
    position: absolute;
    inset: 0;
    background: repeating-linear-gradient(
        -45deg,
        #00000022 0 6px,
        transparent 6px 12px
    );
    pointer-events: none;
}

.game__actions {
    display: flex;
    justify-content: center;
    flex-wrap: wrap;
    gap: 0.75rem;
}

.btn {
    border: none;
    border-radius: 999px;
    padding: 0.58rem 1.2rem;
    font-weight: 700;
    letter-spacing: 0.02em;
    transition: opacity 0.16s ease, filter 0.16s ease, transform 0.16s ease, box-shadow 0.16s ease;
}

.btn--active {
    cursor: pointer;
    opacity: 1;
    filter: none;
    transform: translateY(0);
}

.btn--active:hover {
    transform: translateY(-1px);
    box-shadow: 0 6px 16px #02061755;
}

.btn--inactive {
    cursor: not-allowed;
    opacity: 0.45;
    filter: grayscale(0.45) saturate(0.8);
    box-shadow: none;
}

.btn--draw {
    background: #3b82f6;
    color: #fff;
}

.btn--uno {
    background: #dc2626;
    color: #fff;
}

.btn--catch {
    background: #f59e0b;
    color: #fff;
}

.btn--exit {
    background: #e2e8f0;
    color: #0f172a;
}

.modal {
    position: fixed;
    inset: 0;
    background: #020617b8;
    display: flex;
    justify-content: center;
    align-items: center;
    z-index: 1050;
}

.modal__content {
    background: #fff;
    color: var(--text-dark);
    padding: 1.25rem;
    border-radius: 16px;
    text-align: center;
    min-width: 260px;
}

.modal__content--color {
    display: flex;
    gap: 0.55rem;
}

.card--picker {
    width: 64px;
    height: 96px;
    display: grid;
    place-items: center;
}

.card__picker-dot {
    position: relative;
    z-index: 1;
    font-size: 2rem;
    line-height: 1;
    color: #fff;
    text-shadow: 0 2px 5px #00000069;
}

.card--yellow .card__picker-dot {
    color: #111827;
    text-shadow: none;
}

.hidden {
    display: none !important;
}

.card--red {
    background: #dc2626;
}

.card--blue {
    background: #2563eb;
}

.card--green {
    background: #16a34a;
}

.card--yellow {
    background: #facc15;
}

.card--yellow .card__corner,
.card--yellow .card__value {
    color: #111827;
    text-shadow: none;
}

.card--wild {
    background: #020617;
}

@media (max-width: 768px) {
    .game {
        padding-left: 0.35rem;
        padding-right: 0.35rem;
    }

    .game__players {
        min-height: 212px;
    }

    .player {
        min-width: 122px;
        padding: 0.5rem 0.6rem;
    }

    .player--left,
    .player--right {
        top: 74px;
    }

    .player__name {
        max-width: 105px;
        font-size: 0.84rem;
    }

    .pile {
        width: 84px;
        height: 130px;
        font-size: 0.82rem;
    }

    .board__message {
        min-height: 56px;
        min-width: 132px;
        font-size: 0.95rem;
    }

    .board__message-stack {
        min-height: 118px;
        min-width: 140px;
    }

    .board__message--event {
        min-height: 52px;
        font-size: 0.82rem;
    }

    .card {
        width: 70px;
        height: 106px;
    }

    .hand__cards {
        min-height: 120px;
        padding: 0.35rem 1.2rem;
    }

    .hand__cards .card {
        margin-left: -32px;
    }

    .card__corner {
        font-size: 0.78rem;
    }

    .card__center {
        inset: 14px 10px;
    }

    .card__value {
        font-size: 1.72rem;
    }

    .card__subvalue {
        font-size: 0.78rem;
    }

    .card[data-value="skip"] .card__value,
    .card[data-value="reverse"] .card__value,
    .card[data-value="draw2"] .card__value,
    .card[data-value="wild"] .card__value,
    .card[data-value="wildDraw4"] .card__value {
        font-size: 1.32rem;
    }

    .card--wild .card__value {
        font-size: 0.86rem;
    }

    .card--back {
        width: 70px;
        height: 104px;
    }

    .card__back-logo {
        font-size: 0.96rem;
    }
}
