<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>UNO Game: <%= roomId %></title>
    <link rel="stylesheet" href="/css/game.css">
</head>
<body>

<div class="game">

    <!-- ===== PLAYERS AREA ===== -->
    <div class="game__players">

        <!-- Top Player -->
        <div class="player player--top" id="player-0">
            <div class="player__info">
                <span class="player__name"><%= players[0] %></span>
                <span class="player__card-count">Cards: 0</span>
                <span class="player__uno hidden">UNO!</span>
            </div>
        </div>
        <!-- Bottom Player (Current User View) -->
        <div class="player player--bottom player--active" id="player-3">
            <div class="player__info">
                <span class="player__name"><%= players[1] %></span>
                <span class="player__card-count">Cards: 0</span>
                <span class="player__uno hidden">UNO!</span>
            </div>
        </div>
        <%if(players.length > 2) { %>
            <!-- Left Player -->
            <div class="player player--left" id="player-1">
                <div class="player__info">
                    <span class="player__name"><%= players[2] %></span>
                    <span class="player__card-count">Cards: 0</span>
                    <span class="player__uno hidden">UNO!</span>
                </div>
            </div>
        <% } %>
        <% if(players.length > 3) { %>
            <!-- Right Player -->
            <div class="player player--right" id="player-2">
                <div class="player__info">
                    <span class="player__name"><%= players[3] %></span>
                    <span class="player__card-count">Cards: 0</span>
                    <span class="player__uno hidden">UNO!</span>
                </div>
            </div>
        <% } %>
    </div>


    <!-- ===== CENTER BOARD ===== -->
    <div class="game__board">

        <div class="board__direction" id="direction-indicator">
            â†’
        </div>

        <div class="board__piles">
            <div class="pile pile--draw" id="draw-pile">
                Draw
            </div>

            <div class="pile pile--discard" id="discard-pile">
                Discard
            </div>
        </div>

        <div class="board__color-indicator" id="color-indicator">
            Current Color: -
        </div>

        <div class="board__message" id="game-message">
            Game Started
        </div>

    </div>


    <!-- ===== PLAYER HAND ===== -->
    <div class="game__hand">
        <div class="hand__cards" id="hand-container">
            <!-- Cards injected by JS -->
        </div>
    </div>


    <!-- ===== ACTION PANEL ===== -->
    <div class="game__actions">
        <button class="btn btn--draw" id="draw-btn">Draw Card</button>
        <button class="btn btn--uno" id="uno-btn">Call UNO</button>
        <button class="btn btn--exit" id="exit-btn">Exit</button>
    </div>

</div>


<!-- ===== WINNER MODAL ===== -->
<div class="modal hidden" id="winner-modal">
    <div class="modal__content">
        <h2 id="winner-text">Player Wins!</h2>
        <button class="btn btn--restart">Play Again</button>
    </div>
</div>

<!-- ===== Wild color select MODAL ===== -->
<div class="modal hidden" id="wild-color-modal">
    <div class="modal__content">
        <div class="card card--valid card--green" id="select-green"></div>
        <div class="card card--valid card--yellow" id="select-yellow"></div>
        <div class="card card--valid card--red" id="select-red"></div>
        <div class="card card--valid card--blue" id="select-blue"></div>
    </div>
</div>

<script src="/socket.io/socket.io.js"></script>
<script>
  const roomId = "<%= roomId %>";
</script>
<script src="/js/game.js"></script>
</body>
</html>